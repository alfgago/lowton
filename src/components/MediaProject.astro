---
import type { Component, Project } from "@/consts/projects";
import ImageDisplay from "./ImageDisplay.astro";
import VideoDisplay from "./VideoDisplay.astro";
import GridDisplay from "./GridDisplay.astro";

interface Props {
	components: Component[];
	project: Project;
}
const { components, project } = Astro.props;

const projectComponents = {
	image: components.filter(
		(c: Component) => c.type === "SingleImage" || c.image,
	),
	grid: components.filter((c: Component) => c.type === "Grid" || c.images),
};
---

<section id="media-project" class="px-8 lg:px-16">
	{
		projectComponents.image.length > 0 && (
			<ImageDisplay component={projectComponents.image} />
		)
	}
	{project.videoUrl && <VideoDisplay project={project} />}
	{
		projectComponents.grid.length > 0 && (
			<GridDisplay component={projectComponents.grid} />
		)
	}
</section>
